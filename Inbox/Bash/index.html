
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.3">
    
    
      
        <title>Bash - 红绿灯三原色</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.edf004c2.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="红绿灯三原色" class="md-header__button md-logo" aria-label="红绿灯三原色" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            红绿灯三原色
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bash
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Inbox
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Program%20Language/Go/" class="md-tabs__link">
        Program Language
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../Linux/frequently/Tmux/" class="md-tabs__link">
        Linux
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Linux%20Network/ICMP/" class="md-tabs__link">
        Linux Network
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Linux%20Release/Alpine/" class="md-tabs__link">
        Linux Release
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Windows/Android/" class="md-tabs__link">
        Windows
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Hardware/Nat/" class="md-tabs__link">
        Hardware
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="红绿灯三原色" class="md-nav__button md-logo" aria-label="红绿灯三原色" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    红绿灯三原色
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1">
          Inbox
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Inbox" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Inbox
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Bash
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Comparision/" class="md-nav__link">
        Comparision
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Linuxserver/" class="md-nav__link">
        Linuxserver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../acl/" class="md-nav__link">
        Acl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../centos/" class="md-nav__link">
        Centos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../etcd/" class="md-nav__link">
        Etcd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ipython/" class="md-nav__link">
        Ipython
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../k3s/" class="md-nav__link">
        K3s
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../k8s-Install/" class="md-nav__link">
        k8s Install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../k8s/" class="md-nav__link">
        K8s
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../netmaker/" class="md-nav__link">
        Netmaker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nfs/" class="md-nav__link">
        Nfs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../onefs/" class="md-nav__link">
        Onefs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pam-mysql/" class="md-nav__link">
        Pam mysql
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../procfs/" class="md-nav__link">
        Procfs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../prometheus/" class="md-nav__link">
        Prometheus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pve/" class="md-nav__link">
        Pve
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rrd/" class="md-nav__link">
        Rrd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ssh%E9%9A%A7%E9%81%93/" class="md-nav__link">
        Ssh隧道
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sys/" class="md-nav__link">
        Sys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sysfs/" class="md-nav__link">
        Sysfs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tmux/" class="md-nav__link">
        Tmux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vagrant/" class="md-nav__link">
        Vagrant
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_28" type="checkbox" id="__nav_1_28" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_28">
          Letcode
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Letcode" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_28">
          <span class="md-nav__icon md-icon"></span>
          Letcode
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Letcode/DataStructure/" class="md-nav__link">
        DataStructure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Letcode/array/" class="md-nav__link">
        Array
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Letcode/string/" class="md-nav__link">
        String
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Program Language
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Program Language" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Program Language
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Program%20Language/Go/" class="md-nav__link">
        Go
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Program%20Language/Inbox/" class="md-nav__link">
        Inbox
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Frequently
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Frequently" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Frequently
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/frequently/Tmux/" class="md-nav__link">
        Tmux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Boot/" class="md-nav__link">
        Boot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Kernel/" class="md-nav__link">
        Kernel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/ansible/" class="md-nav__link">
        Ansible
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/containerd/" class="md-nav__link">
        Containerd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/disk/" class="md-nav__link">
        Disk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/find/" class="md-nav__link">
        Find
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/fs/" class="md-nav__link">
        Fs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/ipmi/" class="md-nav__link">
        Ipmi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/process%26single/" class="md-nav__link">
        Process&single
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/prometheus/" class="md-nav__link">
        Prometheus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/pve/" class="md-nav__link">
        Pve
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/script/" class="md-nav__link">
        Script
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/zfs/" class="md-nav__link">
        Zfs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/%E6%AD%A3%E5%88%99/" class="md-nav__link">
        正则
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Linux Network
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux Network" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Linux Network
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Network/ICMP/" class="md-nav__link">
        ICMP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Network/IPV6/" class="md-nav__link">
        IPV6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Network/base/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Network/wireguard/" class="md-nav__link">
        wireguard指北
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          Linux Release
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux Release" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Linux Release
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Release/Alpine/" class="md-nav__link">
        Alpine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Release/Archlinux/" class="md-nav__link">
        Archlinux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Release/Centos/" class="md-nav__link">
        Centos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux%20Release/Ubuntu/" class="md-nav__link">
        Ubuntu
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6">
          Windows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Windows" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Windows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Windows/Android/" class="md-nav__link">
        Android
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Windows/Index/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Windows/Software/" class="md-nav__link">
        Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Windows/%E6%8C%87%E5%8C%97/" class="md-nav__link">
        指北
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7">
          Hardware
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hardware" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Hardware
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Hardware/Nat/" class="md-nav__link">
        Nat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Hardware/Openwrt/" class="md-nav__link">
        Openwrt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Hardware/Router/" class="md-nav__link">
        Router
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Hardware/UEFI%26%26BIOS/" class="md-nav__link">
        UEFI&&BIOS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Hardware/%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        一些工具
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  <h1>Bash</h1>

<p>shell是外壳的意思，就是操作系统的外壳。我们可以通过shell命令来操作和控制操作系统，比如Linux中的Shell命令就包括ls、cd、pwd等等。总结来说，Shell是一个命令解释器，它通过接受用户输入的Shell命令来启动、暂停、停止程序的运行或对计算机进行控制。</p>
<p>shell 是一个应用程序，它连接了用户和 Linux 内核，让用户能够更加高效、安全、低成本地使用 Linux 内核，这就是 Shell 的本质。</p>
<p>shell 本身并不是内核的一部分，它只是站在内核的基础上编写的一个应用程序。</p>
<p><strong>那么什么是shell脚本呢？</strong></p>
<p>shell脚本就是由Shell命令组成的执行文件，将一些命令整合到一个文件中，进行处理业务逻辑，脚本不用编译即可运行。它通过解释器解释运行，所以速度相对来说比较慢。</p>
<p>shell脚本中最重要的就是对shell命令的使用与组合，再使用shell脚本支持的一些语言特性，完成想要的功能。</p>
<p>注释</p>
<p>“# ”开头的就是注释，被编译器忽略</p>
<ul>
<li>单行注释： #</li>
<li>多行注释： :&lt;</li>
</ul>
<p>变量</p>
<p><strong>变量类型</strong>
运行shell时，会同时存在三种变量：</p>
<ol>
<li>局部变量：局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</li>
<li>环境变量：所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</li>
<li>shell变量：shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</li>
</ol>
<p><strong>变量操作</strong></p>
<ul>
<li>创建普通变量： name="test" （=两边不可有空格）</li>
<li>创建只可函数体中使用的局部变量： local name="test" （使用local修饰的变量在函数体外无法访问，并且local只能在函数体内使用）</li>
<li>使用变量： echo $name 或者 echo ${name} （推荐使用大括号版）</li>
<li>变量重新赋值： name="new_test" （将原值覆盖）</li>
<li>只读变量： name="only_read" -&gt; readonly name （使用readonly标识后的变量，不可被修改）</li>
<li>删除变量： unset name; （删除之后不可访问，删除不掉只读变量）</li>
</ul>
<p><strong>字符串变量</strong>
1）单引号</p>
<ul>
<li>单引号变量var='test' ，只能原样输出，变量无效</li>
<li>单引号中不能出现一个单独的单引号，转义也不可以</li>
</ul>
<p>2）双引号</p>
<ul>
<li>双引号变量var="my name is ${name}"，变量有效</li>
<li>可出现转义符</li>
</ul>
<p>3）拼接字符串</p>
<ul>
<li>中间无任何+，之类的字符</li>
<li>name="this is"" my name"; name="this is my name"; name="this" is "my name" 等效</li>
<li>name='this is'' my nam'; name='this is my name'; name='this' is 'my name' 等效</li>
</ul>
<p>4）获取字符串长度</p>
<ul>
<li>在${}中使用“#”获取长度</li>
<li>name="test";</li>
<li>echo ${#name}; # 输出为4</li>
</ul>
<p>5）提取子字符串</p>
<ul>
<li>1:4 从第2个开始 往后截取4个字符</li>
<li>::4 从第一个字符开始 往后截取4个字符</li>
<li>name="this is my name";</li>
<li>echo ${name:1:4} #输出 is i</li>
<li>echo ${name::4} #输出 this</li>
</ul>
<p><strong>数组</strong></p>
<p>bash只支持一维数组，不支持多维数组</p>
<ul>
<li>
<p>定义数组：array_name=(li wang xiang zhang) （小括号做边界、使用空格分离）</p>
</li>
<li>
<p>单独定义数组的元素： array_para[0]="w"; array_para[3]="s" （定义时下标不连续也可以）</p>
</li>
<li>
<p>赋值数组元素：array_name[0]="zhao";</p>
</li>
<li>
<p>获取数组元素：</p>
</li>
<li>
<ul>
<li>array_name[0]="li"</li>
<li>array_name[3]="zhang"</li>
<li>echo ${array_name[0]} # 输出"li"</li>
<li>echo ${array_name[1]} # 输出" "</li>
<li>echo ${array_name[3]} # 输出"zhang"</li>
<li>echo ${array_name[@]} # 输出"li zhang" 输出数组所有元素，没有元素的下标省略</li>
</ul>
</li>
<li>
<p>取得元素个数：${#array_name[@]} 或者 ${#array_name</p>
</li>
<li>}</li>
<li>取得单个元素长度：${#array_name[1]}</li>
</ul>
<p>参数传递</p>
<ul>
<li>
<p>获取参数值：</p>
</li>
<li>
<ul>
<li>$0 ： 固定，代表执行的文件名</li>
<li>$1 ： 代表传入的第1个参数</li>
<li>$n ： 代表传入的第n个参数</li>
</ul>
</li>
<li>
<p>\$#：参数个数</p>
</li>
<li>
<p>\$<em>： 以一个单字符串显示所有向脚本传递的参数。如"$</em>"用「"」括起来的情况、以"$1 $2 … $n"的形式输出所有参数</p>
</li>
<li>
<p>\$@：与$*相同，但是使用时加引号，并在引号中返回每个参数。</p>
</li>
<li>
<p>\$\$：脚本运行的当前进程号</p>
</li>
<li>
<p>\$！：后台运行的最后一个进程的ID</p>
</li>
<li>
<p>\$?： 显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</p>
</li>
<li>
<p>\$* 与 $@ 区别</p>
</li>
<li>
<ul>
<li>相同点：都是引用所有参数。</li>
<li>不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数 1、2、3，，则 " * " 等价于 "1 2 3"（传递了一个参数），而 "@" 等价于 "1" "2" "3"（传递了三个参数）。</li>
</ul>
</li>
</ul>
<p>运算符</p>
<p><strong>算数运算</strong></p>
<ul>
<li>
<p>+ 、-、*、\ ： 乘号前必须加\进行转义才可以进行乘法运算</p>
</li>
<li>
<p>加法运算</p>
</li>
<li>
<ul>
<li>val=<code>expr 2 + 2</code> （使用linux命令expr进行辅助运算）</li>
<li>val=$[2+2] （4个空格不是必要的，不同于条件判断）</li>
<li>val=$((2+2))</li>
</ul>
</li>
</ul>
<p><strong>数字关系运算符</strong>
关系运算符只支持数字，不支持字符串，除非字符串的值是数字。
下面假定变量 a 为 10，变量 b 为 20</p>
<ul>
<li>-eq ：检测两个数是否相等，相等返回 true。 [ $a -eq $b ] 返回 false。</li>
<li>-ne： 检测两个数是否不相等，不相等返回 true。 [ $a -ne $b ] 返回 true。</li>
<li>-gt： 检测左边的数是否大于右边的，如果是，则返回 true。 [ $a -gt $b ] 返回 false。</li>
<li>-lt ： 检测左边的数是否小于右边的，如果是，则返回 true。 [ $a -lt $b ] 返回 true。</li>
<li>-ge： 检测左边的数是否大于等于右边的，如果是，则返回 true。 [ $a -ge $b ] 返回 false。</li>
<li>-le ： 检测左边的数是否小于等于右边的，如果是，则返回 true。 [ $a -le $b ] 返回 true。
    <strong>字符串运算符</strong>
    下表列出了常用的字符串运算符，假定变量 a 为 "abc"，变量 b 为 "efg"：</li>
<li>= ：检测两个字符串是否相等，相等返回 true。 [ $a = $b ] 返回 false。</li>
<li>!= ：检测两个字符串是否相等，不相等返回 true。 [ $a != $b ] 返回 true。</li>
<li>-z ：检测字符串长度是否为0，为0返回 true。 [ -z $a ] 返回 false。</li>
<li>-n ：检测字符串长度是否为0，不为0返回 true。 [ -n "$a" ] 返回 true。</li>
<li>$ ：检测字符串是否为空，不为空返回 true。 [ $a ] 返回 true。
    <strong>布尔运算符</strong>
    下表列出了常用的布尔运算符，假定变量 a 为 10，变量 b 为 20：</li>
<li>! ：非运算，表达式为 true 则返回 false，否则返回 true。 [ ! false ] 返回 true。</li>
<li>-o ：或运算，有一个表达式为 true 则返回 true。 [ $a -lt 20 -o $b -gt 100 ] 返回 true。</li>
<li>-a ：与运算，两个表达式都为 true 才返回 true。 [ $a -lt 20 -a $b -gt 100 ] 返回 false。</li>
</ul>
<p><strong>逻辑运算符</strong>
以下介绍 Shell 的逻辑运算符，假定变量 a 为 10，变量 b 为 20:</p>
<ul>
<li>&amp;&amp; ：逻辑的 AND [[ $a -lt 100 &amp;&amp; $b -gt 100 ]] 返回 false</li>
<li>|| ：逻辑的 OR [[ $a -lt 100 || $b -gt 100 ]] 返回 true</li>
</ul>
<p><strong>文件运算符</strong></p>
<ul>
<li>-b file ：检测文件是否是块设备文件，如果是，则返回 true。 [ -b $file ] 返回 false。</li>
<li>-c file ：检测文件是否是字符设备文件，如果是，则返回 true。 [ -c $file ] 返回 false。</li>
<li>-d file ：检测文件是否是目录，如果是，则返回 true。 [ -d $file ] 返回 false。</li>
<li>-f file ：检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。 [ -f $file ] 返回 true。</li>
<li>-g file ：检测文件是否设置了 SGID 位，如果是，则返回 true。 [ -g $file ] 返回 false。</li>
<li>-k file ：检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。 [ -k $file ] 返回 false。</li>
<li>-p file ：检测文件是否是有名管道，如果是，则返回 true。 [ -p $file ] 返回 false。</li>
<li>-u file ：检测文件是否设置了 SUID 位，如果是，则返回 true。 [ -u $file ] 返回 false。</li>
<li>-r file ：检测文件是否可读，如果是，则返回 true。 [ -r $file ] 返回 true。</li>
<li>-w file ：检测文件是否可写，如果是，则返回 true。 [ -w $file ] 返回 true。</li>
<li>-x file ：检测文件是否可执行，如果是，则返回 true。 [ -x $file ] 返回 true。</li>
<li>-s file ：检测文件是否为空（文件大小是否大于0），不为空返回 true。 [ -s $file ] 返回 true。</li>
<li>-e file ：检测文件（包括目录）是否存在，如果是，则返回 true。 [ -e $file ] 返回 true。</li>
</ul>
<p>执行相关</p>
<p><strong>命令替换</strong>
命令替换与变量替换差不多，都是用来重组命令行的，先完成引号里的命令行，然后将其结果替换出来，再重组成新的命令行。
执行命令：</p>
<ol>
<li><code>ls /etc</code> ： 反引号 （所有的unix系统都支持）</li>
<li>$(ls /etc) ： $+() （部分unix系统不支持）
    多个嵌套使用时，从内向外执行for file in \s /etc\ 或 for file in $(ls /etc) 循环中使用
    <code>dirname \$0</code> 获取脚本文件所在的目录
    path=$(cd <code>dirname $0</code>;pwd) ： 获取脚本当前所在目录，并且执行cd命令到达该目录，使用pwd获取路径并赋值到path变量</li>
</ol>
<p><strong>算术运算</strong></p>
<ol>
<li>$[ ] : 加减乘除,不必添加空格</li>
<li>$(( )) ：加减乘除等,不必添加空格</li>
</ol>
<p><strong>逻辑判断</strong></p>
<ol class="task-list">
<li class="task-list-item"><input type="checkbox" disabled/> ： 中括号旁边和运算符两边必须添加空格 （可以使用，不推荐）</li>
<li>[[ ]]：中括号旁边和运算符两边必须添加空格 （字符串验证时，推荐使用）</li>
<li>(()) ： 中括号旁边和运算符两边必须添加空格 （数字验证时，推荐使用）</li>
<li>[[]] 和 (()) 分别是[ ]的针对数学比较表达式和字符串表达式的加强版。</li>
<li>使用[[ ... ]]条件判断结构，而不是[ ... ]，能够防止脚本中的许多逻辑错误。比如，&amp;&amp;、||、&lt;和&gt; 操作符能够正常存在于[[ ]]条件判断结构中，但是如果出现在[ ]结构中的话，会报错。比如可以直接使用if [[ $a != 1 &amp;&amp; $a != 2 ]], 如果不适用双括号, 则为if [ $a -ne 1] &amp;&amp; [ $a != 2 ]或者if [ $a -ne 1 -a $a != 2 ]。
    [[ ]]中增加模式匹配特效；
    (( ))不需要再将表达式里面的大小于符号转义，除了可以使用标准的数学运算符外，还增加了以下符号</li>
</ol>
<p><img alt="img" src="Z:/hwx/docs/Typing/img/guide/install_guide/v2-610c2aa76d4d7d7b5464c21d965e787e_720w.jpg" /></p>
<p>输出</p>
<p><strong>echo</strong>
仅用于字符串的输出，没有使用printf作为输出的移植性好，建议使用printf</p>
<p><strong>printf</strong></p>
<blockquote>
<p>printf 不会像 echo 自动添加换行符，我们可以手动添加 \n
  无大括号，直接以空格分隔</p>
</blockquote>
<ul>
<li>
<p>格式：printf format-string [arguments...] 其中（format-string: 格式控制字符串、arguments: 参数列表）</p>
</li>
<li>
<p>案例：printf "%-10s %-8s %-4.2f\n" 郭靖 男 66.1234</p>
</li>
<li>
<p>%s %c %d %f 都是格式替代符</p>
</li>
<li>
<ul>
<li>d：Decimal 十进制整数 对应位置参数必须是十进制整数，否则报错!</li>
<li>s：String 字符串 对应位置参数必须是字符串或者字符型 否则报错</li>
<li>c：Char 字符 对应位置参数必须是字符串或者字符型 否则报错</li>
<li>f：Float 浮点 对应位置参数必须是数字型 否则报错</li>
</ul>
</li>
<li>
<p>%-10s ： 指一个宽度为10个字符（-表示左对齐，没有则表示右对齐），任何字符都会被显示在10个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来。</p>
</li>
<li>
<p>%-4.2f ：指格式化为小数，宽度为4个字符，其中.2指保留2位小数。</p>
</li>
<li>
<p>转义符：</p>
</li>
<li>
<ul>
<li>\a ：警告字符，通常为ASCII的BEL字符</li>
<li>\b ：后退</li>
<li>\c ：抑制（不显示）输出结果中任何结尾的换行字符（只在%b格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</li>
<li>\f ：换页（formfeed）</li>
<li>\n ：换行</li>
<li>\r ：回车（Carriage return）</li>
<li>\t ：水平制表符</li>
<li>\v ：垂直制表符</li>
<li>\ ：一个字面上的反斜杠字符</li>
<li>\ddd ：表示1到3位数八进制值的字符。仅在格式字符串中有效</li>
<li>\0ddd ：表示1到3位的八进制值字符</li>
</ul>
</li>
</ul>
<p>流程控制</p>
<p>和Java、PHP等语言不一样，sh的流程控制不可为空，即if或者else的大括号中无任何语句
<strong>if else</strong></p>
<ul>
<li>ifif condition then command1 command2 ... commandN fi</li>
<li>if elseif condition then command1 command2 ... commandN else command fi</li>
<li>if else-if elseif condition1 then command1 elif condition2 then command2 else commandN fi</li>
</ul>
<p><strong>for</strong></p>
<p>for var in item1 item2 ... itemN do command1 command2 ... commandN done</p>
<p><strong>while</strong></p>
<ul>
<li>while conditionwhile condition do command done</li>
<li>while 无限循环while : do command done</li>
</ul>
<p><strong>until</strong>
until 循环执行一系列命令直至条件为 true 时停止。
until 循环与 while 循环在处理方式上刚好相反。</p>
<p>until condition do command done</p>
<p><strong>case</strong>
Shell case语句为多选择语句。可以用case语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令。
case需要一个esac（就是case反过来）作为结束标记，每个case分支用右圆括号，用两个分号表示break，其中“;;”不是跳出循环，是不在去匹配下面的模式
case语句格式如下：</p>
<p>case 值 in 模式1) command1 command2 ... commandN ;; 模式2） command1 command2 ... commandN ;; esac</p>
<p><strong>跳出循环</strong></p>
<ol>
<li>break ：跳出总循环</li>
<li>continue：跳出当前循环，继续下一次循环</li>
</ol>
<p>定义函数</p>
<p>可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。</p>
<ul>
<li>
<p><strong>函数定义</strong>[ function ] funname() { action; [return int;] }</p>
</li>
<li>
<p><strong>参数传递</strong></p>
</li>
<li>
<ul>
<li>调用函数: fun_name 2 3 4</li>
<li>函数中使用：和shell取用函数相同 $n $# $<em> $? 或者加上{}funWithParam(){ echo "第一个参数为 $1 !" echo "第二个参数为 $2 !" echo "第十个参数为 $10 !" echo "第十个参数为 ${10} !" echo "第十一个参数为 ${11} !" echo "参数总数有 $# 个!" echo "作为一个字符串输出所有参数 $</em> !"} funWithParam 1 2 3 4 5 6 7 8 9 34 73 echo $? # 判断执行是否成功</li>
</ul>
</li>
<li>
<p><strong>函数返回值</strong></p>
</li>
<li>
<ul>
<li>return字样可存在也可不存在</li>
<li>return 只能为 return [0-255]，此处的返回可作为函数执行的状态，通过$?获取的便是这个返回值</li>
<li>如果不加return ， 则默认最后一条语句的执行状态所为函数执行状态的返回值，如果最后一条语句执行成功，则$?为0，否则不为0</li>
</ul>
</li>
<li>
<p><strong>使用函数返回值</strong>（Janusgraph图数据库官方启动服务脚本片段）</p>
</li>
<li>
<ul>
<li>return返回的数字，只是作为函数执行状态的返回值，也就是接下来$?获取的值</li>
<li>对于类似于下面的BIN=\abs_path``语句，获取的是函数体内所有的echo、printf输出组合成的一个字符串 abs_path() { SOURCE="${BASH_SOURCE[0]}" while [ -h "$SOURCE" ]; do DIR="$( cd -P "$( dirname "$SOURCE" )" &amp;&amp; pwd )" SOURCE="$(readlink "$SOURCE")" [[ $SOURCE != /<em> ]] &amp;&amp; SOURCE="$DIR/$SOURCE" done echo "test" echo "$( cd -P "$( dirname "$SOURCE" )" &amp;&amp; pwd )" </em><em>#</em>* 此函数的两个echo输出会组合成一个字符串作为下述BIN的值 }</li>
</ul>
</li>
</ul>
<p>BIN=abs_path # BIN赋值函数返回值，如果没有return，则函数中所有的echo、printf输出组合成一个字符串传入BIN
path=${BIN}/nodetool # 可直接使用</p>
<ol>
<li>#### 输入输出重定向</li>
<li>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</li>
<li>* 标准输入文件(stdin)：stdin的文件描述符为0，Unix程序默认从stdin读取数据。</li>
<li>* 标准输出文件(stdout)：stdout 的文件描述符为1，Unix程序默认向stdout输出数据。</li>
<li>* 标准错误文件(stderr)：stderr的文件描述符为2，Unix程序会向stderr流中写入错误信息。</li>
<li>默认情况下，command &gt; file 将 stdout 重定向到 file，command &lt; file 将stdin 重定向到 file。</li>
<li>如果希望执行某个命令，但又不希望在屏幕上显示输出结果，那么可以将输出重定向到 /dev/null：</li>
<li><strong>输入重定向</strong></li>
<li>\1. bash.sh &lt; file ： 将脚本的输入重定向到file，由file提供参数</li>
<li><strong>输出重定向</strong></li>
<li>\1. bash.sh &gt; file ： 将脚本的输出数据重定向到file中，覆盖数据</li>
<li>\2. bash.sh &gt;&gt; file ： 将脚本的输出数据重定向到file中，追加数据</li>
<li>\3. command &gt;&gt; file 2&gt;&amp;1 ： 将 stdout 和 stderr 合并后重定向到 file</li>
<li>#### 读取外部输入</li>
<li>命令：<code>read arg</code> （脚本读取外部输入并赋值到变量上）</li>
<li>在shell脚本执行到上述命令时，停止脚本执行并等待外部输入，将外部输入赋值到arg变量上，继续执行脚本</li>
<li>#### 文件引用</li>
<li>引用其他的文件之后，可以使用其变量、函数等等，相当于将引用的文件包含进了当前文件</li>
<li>两种方式：</li>
<li>\1. <strong>.</strong> file_path\file_name</li>
<li>\2. <strong>source</strong> file_path\file_name</li>
<li>#### 颜色标识</li>
<li>```shell</li>
<li>printf "\033[32m SUCCESS: yay \033[0m\n";</li>
<li>printf "\033[33m WARNING: hmm \033[0m\n";</li>
<li>printf "\033[31m ERROR: fubar \033[0m\n";</li>
</ol>
<p>输出结果：</p>
<p><img alt="img" src="Z:/hwx/docs/Typing/img/guide/install_guide/v2-134f7cedc1a7d4a4cd58d06cec21fdec_720w.jpg" /></p>
<p>长句换行</p>
<p>在shell中为避免一个语句过长，可以使用“\”进行换行
使用“\”换行，在脚本执行过程中还是当做一行一个语句执行，不同于enter直接换行</p>
<blockquote>
<p>注意：\ 前添加一个空格 。 \ 后无空格直接换行。
  /mysql/bin/mysql \ -h test_host -P 000 \ -u test_user -ptest_password ;</p>
</blockquote>
<p>shell操作mysql</p>
<p>下面案例为登录mysql，并选择操作数据库，之后进行导入数据</p>
<p>/mysql/mysql/bin/mysql \ -h test_host -P 000 \ -u test_user -ptest_password \ -e"use test_database; source data_faile; " # -e 代表执行sql语句</p>
<blockquote>
<p>-u 用户名
  -p 用户密码
  -h 服务器ip地址
  -D 连接的数据库
  -N 不输出列信息
  -B 使用tab键 代替 分隔符
  -e 执行的SQL语句
  退出脚本命令：exit</p>
</blockquote>
<p>在退出脚本时使用不同的错误码，这样可以根据错误码来判断发生了什么错误。</p>
<blockquote>
<p>在绝大多数 shell 脚本中，exit 0 表示执行成功，exit 1 表示发生错误。
  对错误与错误码进行一对一的映射，这样有助于脚本调试。</p>
</blockquote>
<p>命令：set -e 或者 set +e
set -e表示从当前位置开始，如果出现任何错误都将触发exit。相反，set +e表示不管出现任何错误继续执行脚本。</p>
<blockquote>
<p>如果脚本是有状态的（每个后续步骤都依赖前一个步骤），那么请使用set -e，在脚本出现错误时立即退出脚本。
  如果要求所有命令都要执行完（很少会这样），那么就使用set +e。</p>
</blockquote>
<p>shell脚本调试</p>
<p>检查是否有语法错误-n：
bash -n script_name.sh
使用下面的命令来执行并调试 Shell 脚本-x：
bash -x script_name.sh
<strong>调试count_odd_number.sh 程序案例：</strong></p>
<ol>
<li>#!/usr/bin.env bash</li>
<li># 用于计算数组中奇数的和</li>
<li># @author liyangyang</li>
<li># @time 2019/09/17</li>
<li>sum=0</li>
<li>for num in 1 2 3 4;do</li>
<li>re=${num}%2</li>
<li>if (( ${re} == 1 ));then</li>
<li>sum=$[${sum}+${num}]</li>
<li>fi</li>
<li>done</li>
<li>
<p>echo ${sum}</p>
</li>
<li>
<p>首先检查有无语法错误：
    bash -n count_odd_number.sh</p>
</li>
<li>
<p>没有输出，说明没有错误，开始实际调试：
    bash -x count_odd_number.sh</p>
</li>
<li>
<p>调试结果如下：</p>
</li>
<li>
<ol>
<li>+ sum=0</li>
<li>+ for num in 1 2 3 4</li>
<li>+ re=1%2</li>
<li>+ (( 1%2 == 1 ))</li>
<li>+ sum=1</li>
<li>+ for num in 1 2 3 4</li>
<li>+ re=2%2</li>
<li>+ (( 2%2 == 1 ))</li>
<li>+ for num in 1 2 3 4</li>
<li>+ re=3%2</li>
<li>+ (( 3%2 == 1 ))</li>
<li>+ sum=4</li>
<li>+ for num in 1 2 3 4</li>
<li>+ re=4%2</li>
<li>+ (( 4%2 == 1 ))</li>
<li>+ echo 4</li>
<li>4</li>
</ol>
</li>
<li>
<p>其中的输出显示了程序执行的每一步，通过观察程序执行的步骤是否满足预期从而达到调试的效果
    带有 + 表示的是 Shell 调试器的输出，不带 + 表示程序的输出。</p>
</li>
</ol>
<p>案例：</p>
<p>这是es（ElasticSearch）官方启动服务的脚本，看可不可以理解吧~</p>
<ol>
<li>#!/usr/bin/env bash</li>
<li># CONTROLLING STARTUP:</li>
<li>#</li>
<li># This script relies on a few environment variables to determine startup</li>
<li># behavior, those variables are:</li>
<li>#</li>
<li># ES_PATH_CONF -- Path to config directory</li>
<li># ES_JAVA_OPTS -- External Java Opts on top of the defaults set</li>
<li>#</li>
<li># Optionally, exact memory values can be set using the <code>ES_JAVA_OPTS</code>. Note that</li>
<li># the Xms and Xmx lines in the JVM options file must be commented out. Example</li>
<li># values are "512m", and "10g".</li>
<li>#</li>
<li># ES_JAVA_OPTS="-Xms8g -Xmx8g" ./bin/elasticsearch</li>
<li>source "<code>dirname "$0"</code>"/elasticsearch-env</li>
<li>parse_jvm_options() {</li>
<li>if [ -f "$1" ]; then</li>
<li>echo "<code>grep "^-" "$1" | tr '\n' ' '</code>"</li>
<li>fi</li>
<li>}</li>
<li>ES_JVM_OPTIONS="$ES_PATH_CONF"/jvm.options</li>
<li>ES_JAVA_OPTS="<code>parse_jvm_options "$ES_JVM_OPTIONS"</code> $ES_JAVA_OPTS"</li>
<li># manual parsing to find out, if process should be detached</li>
<li>if ! echo $* | grep -E '(^-d |-d$| -d |--daemonize$|--daemonize )' &gt; /dev/null; then</li>
<li>exec \</li>
<li>"$JAVA" \</li>
<li>$ES_JAVA_OPTS \</li>
<li>-Des.path.home="$ES_HOME" \</li>
<li>-Des.path.conf="$ES_PATH_CONF" \</li>
<li>-cp "$ES_CLASSPATH" \</li>
<li>org.elasticsearch.bootstrap.Elasticsearch \</li>
<li>"$@"</li>
<li>else</li>
<li>exec \</li>
<li>"$JAVA" \</li>
<li>$ES_JAVA_OPTS \</li>
<li>-Des.path.home="$ES_HOME" \</li>
<li>-Des.path.conf="$ES_PATH_CONF" \</li>
<li>-cp "$ES_CLASSPATH" \</li>
<li>org.elasticsearch.bootstrap.Elasticsearch \</li>
<li>"$@" \</li>
<li>&lt;&amp;- &amp;</li>
<li>retval=$?</li>
<li>pid=$!</li>
<li>[ $retval -eq 0 ] || exit $retval</li>
<li>if [ ! -z "$ES_STARTUP_SLEEP_TIME" ]; then</li>
<li>sleep $ES_STARTUP_SLEEP_TIME</li>
<li>fi</li>
<li>if ! ps -p $pid &gt; /dev/null ; then</li>
<li>exit 1</li>
<li>fi</li>
<li>exit 0</li>
<li>fi</li>
<li>exit $?</li>
</ol>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="页脚">
      
      
        
        <a href="../Comparision/" class="md-footer__link md-footer__link--next" aria-label="下一页: Comparision" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              Comparision
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "navigation.instant", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "navigation.indexes"], "translations": {"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "search": "../../assets/javascripts/workers/search.0bbba5b5.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.e1a181d9.min.js"></script>
      
    
  </body>
</html>